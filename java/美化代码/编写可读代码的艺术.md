## 第1章 代码应当易于理解

### 可读性

​		表面层次的改进：

​			选择好的名字，

​			写好的注释，

​			以及吧代码整洁地写成更好的格式



# 第一部分 表面层次的改进

## 第2章 把信息装到名字里

### 选择专业的词

清晰和精确比装可爱好



### 避免像tmp和retval这样泛泛的名字

如果要用像tmp、it或retval这样的空泛的名字，要么就有个好的理由



### 用具体的名字代替抽象的名字



### 为名字附带更多信息



### 名字该有多长



### 利用名字的格式来传递含义





## 第3章 不会误解的名字

### 推荐使用 min 和 max 来标识（包含）极限

### 推荐用 first 和 last 来表示包含的范围

### 推荐用 begin 和 end 来标识包含/排除范围



### 给布尔值命名

通常来讲，加上is 、has、 can 或should这样的词，可以吧布尔值变得更明确



### 与使用者的期望相匹配

例如：list.size()是一个O(n)操作，而不是返回一个事先算好的个数





## 第 4 章 审美

### 重新安排换行来保持一致和紧凑

### 用方法来整理不规则的东西

### 在需要时使用列对齐

### 选一个有意义的顺序，始终一致地使用它

- 让变量的顺序与对应的HTML表单中的<input>字段的顺序相匹配
- 从“最重要” 到 “最不重要” 排序
- 按字母顺序排序



### 把声明按块组织起来



### 把代码分成”段落“



### 个人风格与一致性

class Logger{

};

和

class Logger

{

};



#### 一致的风格比“正确“的风格更重要





## 第5章 该写什么样的注释

### 什么不需要注释

不要为那些从代码本身就能快速推断的事实写注释

不要给不好的名字加注释，应该吧名字改好



### 记录你的思想

### 站在读者的角度

公布可能的陷阱

全局观注释

总结性注释

注释应该说明 “为什么这样做” 而非 “做什么”（或者怎么做）



### 最后的思考——克服 “作者心理阻滞”

### 总结

![image-20210224162212119](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210224162212119.png)





## 第6章 写出言简意赅的注释

注释应当有很高的信息/空间率

### 让注释保持紧凑

### 避免使用不明确的代词

用输入/输出例子来说明特别的情况



### 声明代码意图

具名函数参数 的注释



### 采用信息含量高的词



### 总结

![image-20210225143217112](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210225143217112.png)



# 第二部分 简化循环和逻辑

## 第7章 把控制流变得易读

### 条件语句中参数的顺序

![image-20210225150018705](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210225150018705.png)



### if/else 语句块的顺序

![image-20210225150529495](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210225150529495.png)



相对于追求最小化代码行数，一个更好的度量方法是最小化人们理解它所需的时间



默认情况下都用if/else。三目运算符？：只有在最简单的情况下使用



### 避免do/while循环

### 从函数中提前返回



### 最小化嵌套

通过提前返回来减少嵌套

#### 减少循环内的嵌套

在循环中，与提早返回类似的技术是continue



### 你能理解执行的流程吗

![image-20210225152651225](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210225152651225.png)

这些结构有些很有用，它们甚至可以让你的代码更具可读性，并且冗余更少。但是这些结构使得难以跟踪bug。

不要让代码中使用这些结构的比例太高。



### 总结

![image-20210225152909405](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210225152909405.png)





## 第8章 拆分超长的表达式

### 用作解释的变量

![image-20210225153449338](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210225153449338.png)



### 总结变量

![image-20210225153654404](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210225153654404.png)

![image-20210225153705994](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210225153705994.png)



### 用德摩根定理

![image-20210225154111425](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210225154111425.png)

![image-20210225154120955](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210225154120955.png)



### 滥用短路逻辑



### 例子：与复杂的逻辑战斗



### 拆分巨大的语句

![image-20210225155507124](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210225155507124.png)

![image-20210225155517163](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210225155517163.png)



### 另一个简化表达式的创意方法

### 总结

![image-20210225155702367](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210225155702367.png)





### 第9章 变量与可读性

### 减少变量

减少控制流变量

### 缩小变量的作用域

### 只写一次的变量更好



### 总结

![image-20210225161728995](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210225161728995.png)



# 第三部分 重新组织代码

## 第10章 抽取不相关的子问题

### 纯工具代码

### 其他多用途代码

### 创建大量通用代码

### 项目专有的功能

你永远不要暗语使用不理想的接口，你总是可以创建你自己的包装函数来隐藏粗陋的细节



### 按需重塑接口

### 过犹不及

### 总结

![image-20210301100924359](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210301100924359.png)



## 第11章 一次只做一件事

1. 列出代码所做的所有 “ 任务 ” 。这里的 “ 任务 ”没有很严格的定义——它小的如 “ 确保这个对象有效 ”，或者含糊的如 “ 遍历树中的所有节点 ” 。
2. 尽量把这件任务拆分到不同的函数中，或者至少代码中不同的段落中。



### 任务可以很小

![image-20210301102501462](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210301102501462.png)

转换

![image-20210301102520660](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210301102520660.png)





### 从对象中抽取值



### 更大型的例子

开始

![image-20210301144822618](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210301144822618.png)



第一种优化：

![image-20210301144839624](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210301144839624.png)



第二种优化：

![image-20210301144902964](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210301144902964.png)



### 总结

![image-20210301144937306](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210301144937306.png)





## 第12章 把想法变成代码

### 清楚地描述逻辑

### 了解函数库是有帮助的

### 总结

![image-20210301150210499](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210301150210499.png)











## 第13章 少些代码

### 别费神实现那个功能——你不会需要它

### 质疑和拆分你的需求

### 保持小代码库

### 熟悉你周边的库





### 总结

![image-20210301152041997](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210301152041997.png)







# 第四部分 精选话题

## 第14章 测试与可读性

### 使测试易于阅读和维护

### 这段测试什么地方不对

### 使这个测试更可读

### 创建最小的测试声明

### 实现定制的“微语言”

### 让错误消息具有可读性

### 选择好的测试输入

### 简化键入值

一个功能分成多个小测试，更容易，更有效，更可维护

### 那个测试有什么地方不对

### 对测试较好的开发方式

### 走的太远

### 总结

![image-20210303171307086](%E7%BC%96%E5%86%99%E5%8F%AF%E8%AF%BB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF.assets/image-20210303171307086.png)







## 第15章 设计并改进“分钟/小时计数器”

























